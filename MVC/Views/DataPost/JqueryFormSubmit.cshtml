
@{
    ViewBag.Title = "JqueryFormSubmit";
}

<h2>JqueryFormSubmit</h2>

<form id="registerForm">
    <div class="form-group">
        <label for="issuerKey">Name</label>
        @Html.TextBox("Name", "", new { htmlAttributes = new { @class = "form-control" } })<br /><br />
        <label for="issuerKey">LastName</label>
        @Html.TextBox("LastName", "", new { htmlAttributes = new { @class = "form-control" } })<br /><br />
        <label for="issuerKey">FirstName</label>
        @Html.TextBox("FirstName", "", new { htmlAttributes = new { @class = "form-control" } })<br /><br />
        <label for="issuerKey">Email</label>
        @Html.TextBox("Email", "", new { htmlAttributes = new { @class = "form -control" } })<br /><br />
        <label for="issuerKey">Description</label>
        @Html.TextBox("Description", "", new { htmlAttributes = new { @class = "form-control" } })<br /><br />
        <label for="issuerKey">Hobbie</label>
        @Html.DropDownList("Hobbie", new SelectList(ViewBag.Hobbs), new { htmlAttributes = new { @class = "form-control" } })<br /><br />
        <input type="submit" class="btn btn-default" value="Search" />
    </div>
</form>


    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <script>
    $(document).ready(function () {
        $("#registerForm").on("submit", function (e) {
            debugger;
            e.preventDefault(); //to prevent page reload on form submit
            var formData = $(this).serialize();
            console.log(formData);
            $.ajax({
    type: "Post",
    url: "@Url.Action("JqueryPost_model", "DataPost")",
                data: JSON.stringify(formData),
    contentType: "application/json; charset=utf-8",
    success: function (response) {
        if (parseInt(response) > 0) {
            alert("success");
        }
        else {
            alert("Fail");
        }
    },
    error: function (error) {
        alert(error);
    }
});
        });
    });

    </script>
